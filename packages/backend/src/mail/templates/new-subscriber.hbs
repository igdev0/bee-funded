{{!-- File: templates/new-subscriber.hbs --}}
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <style>
        /* simple, email-friendly styles */
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial; margin:0; padding:0; color:#111827; background:#f6f7fb; }
        .container { max-width:600px; margin:24px auto; background:#ffffff; border-radius:8px; overflow:hidden; box-shadow:0 1px 3px rgba(16,24,40,0.05); }
        .header { padding:20px 24px; background:linear-gradient(90deg,#06b6d4 0%, #3b82f6 100%); color:#fff; }
        .header h1 { margin:0; font-size:18px; }
        .content { padding:20px 24px; }
        .row { margin-bottom:12px; }
        .muted { color:#6b7280; font-size:13px; }
        .meta { background:#f3f4f6; padding:12px; border-radius:6px; margin:12px 0; font-family:monospace; font-size:13px; }
        .cta { display:inline-block; margin-top:16px; text-decoration:none; padding:10px 16px; border-radius:6px; background:#111827; color:#fff; }
        .footer { padding:16px 24px; font-size:13px; color:#6b7280; background:#fbfdff; }
        .tag { display:inline-block; padding:6px 8px; background:#eef2ff; border-radius:6px; font-size:12px; color:#3730a3; margin-right:8px;}
        @media (max-width:420px){ .container{ margin:12px; } }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>New subscriber for "{{poolName}}"</h1>
    </div>

    <div class="content">
        <p class="muted">Hi {{poolOwnerName}},</p>

        <p>
            Great news — your donation pool <strong>"{{poolName}}"</strong> just received a new subscriber.
        </p>

        <div class="meta">
            <div><strong>Subscription ID:</strong> {{subscriptionId}}</div>
            <div><strong>Pool ID:</strong> {{poolId}}</div>
        </div>

        <div class="row">
            <div class="tag">Subscriber</div>
            <div style="margin-top:8px;"><strong>{{subscriberAddress}}</strong></div>
            {{#if subscriberName}}
                <div class="muted">{{subscriberName}}</div>
            {{/if}}
        </div>

        <div class="row">
            <div class="tag">Beneficiary</div>
            <div style="margin-top:8px;"><strong>{{beneficiaryAddress}}</strong></div>
            {{#if beneficiaryName}}
                <div class="muted">{{beneficiaryName}}</div>
            {{/if}}
        </div>

        <div class="row">
            <div class="tag">Payment</div>
            <div style="margin-top:8px;">
                <strong>{{formatAmount amount tokenDecimals}} {{tokenSymbol token}}</strong>
                <div class="muted">every {{intervalHuman}}</div>
            </div>
        </div>

        <div class="row">
            <div class="tag">Duration</div>
            <div style="margin-top:8px;">
                <strong>{{remainingPayments}}</strong> payments total
            </div>
        </div>

        {{#if deadline}}
            <div class="row">
                <div class="tag">Signature deadline</div>
                <div style="margin-top:8px;"><strong>{{formatDate deadline}}</strong></div>
            </div>
        {{/if}}

        <p style="margin-top:16px;">
            <a class="cta" href="{{dashboardUrl}}">View subscription in dashboard</a>
        </p>

        <hr style="border:none;border-top:1px solid #eef2f6;margin:18px 0;">

        <p class="muted" style="font-size:13px">
            If you didn't expect this subscriber or think this is a mistake, please review the subscription in your dashboard or contact support.
        </p>
    </div>

    <div class="footer">
        <div>Thanks — the BeeFunded team</div>
        <div style="margin-top:8px;">{{appName}} • <span class="muted">{{appUrl}}</span></div>
    </div>
</div>
</body>
</html>
